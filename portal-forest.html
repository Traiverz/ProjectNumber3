<!DOCTYPE html>
<html>

<head>
	<title>Лес</title>
	<meta name="description" content="A-Frame Examples" charset="UTF-8">
	<script src="js/aframe-master-v1.3.0.min.js"></script>
	<script src="js/aframe-environment-component.min.js"></script>
	<script src="js/link-controls.js"></script>

	
	
	
</head>

<body>

<script>
var s = document.querySelector('#rabbit');
AFRAME.registerComponent("foo", {
  init: function() {
    const sphere = document.querySelector("a-text");
	const box = document.querySelector(".banner");
    s = function() {
      sphere.setAttribute("visible", "true");
	  box.setAttribute("visible", "true");
    }
  }
})

</script>
<!-- cursor activated from mouse position; only intersects objects with "link" component added (the <a-link> tag) -->
<!-- environments featured: default, forest, egypt, goldmine, arches, japan, volcano -->

<a-scene environment="preset: forest;" cursor="rayOrigin: mouse;" raycaster="far: 100; objects: [link],.clickable;" foo>

	  
	<a-assets>
        <img id="previewDefault"  src="images/spherical/default.jpg">
        <img id="previewVolcano"  src="images/spherical/volcano.jpg">
        <img id="previewEgypt"    src="images/spherical/egypt.jpg">
        <img id="previewForest"   src="images/spherical/forest.jpg">
        <img id="previewArches"   src="images/spherical/arches.jpg">
        <img id="previewJapan"    src="images/spherical/japan.jpg">
        <a-asset-item id="rabbit" src="models/rabbit/scene.gltf"></a-asset-item>
		<a-asset-item id="banner" src="models/banner/scene.gltf"></a-asset-item>
	</a-assets>
	
<!-- note: raycast issue (link still active) after walking through portal -->
<a-sound src="music/forest.mp3" autoplay="true"></a-sound>


<a-link	position="-4 1.6 -4" rotation="0 40 0"
	href="portal-volcano.html" title="Volcano" image="#previewVolcano"></a-link>

<a-link position="-2 1.6 -5" rotation="0 20 0"
	href="portal-egypt.html" title="Desert" image="#previewEgypt"></a-link>

<a-link position="0 1.6 -6" 
	href="portal-default.html" title="Void" image="#previewDefault"></a-link>

<a-link position="2 1.6 -5" rotation="0 -20 0"
	href="portal-arches.html" title="Arches" image="#previewArches"></a-link>

<a-link position="4 1.6 -4" rotation="0 -40 0"
	href="portal-japan.html" title="Japan" image="#previewJapan"></a-link>

<a-entity class="clickable" id="rabbit" gltf-model="#rabbit" position="0 0 -3" rotation="0 35 0" onclick="s()"></a-entity>
<a-entity class="banner" id="banner" gltf-model="#banner" position="-6.3 0 -3" rotation="0 0 0" scale="0.2 0.2 0.8" visible="false"></a-entity>
<a-text value="Why did you click on the rabbit?" scale="1.5 1.5 1" position="-2.3 3.2 -3" color="yellow" visible="false" ></a-text>

 

</a-scene>

</body>
</html>